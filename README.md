
# equipment-manager

Система учета вычислительной техники с клиент-серверной архитектурой. Позволяет управлять иерархией сетевых узлов и подключенным оборудованием, с разграничением прав доступа.

## Возможности

**Управление техникой**
- Добавление/удаление/редактирование устройств
- Привязка оборудования к сетевым узлам
- Просмотр всей техники

**Сетевая структура**
- Иерархическое дерево узлов (родитель-потомок)
- Графическое отображение структуры
- Сворачивание/разворачивание узлов

**Безопасность**
- JWT-аутентификация
- Две роли: администратор (полный доступ) и viewer (только просмотр)

## Технологии

- Backend: Go (Gin, GORM)
- Frontend: Vanilla JS + D3.js для визуализации
- База данных: PostgreSQL
- Контейнеризация: Docker

## Запуск проекта

### Переменные окружения

Создайте `.env` файл (пример):

```env
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=equipment_db
JWT_SECRET=your_secret
SEED_TEST_DATA=true
```

### Тестовые пользователи и данные

При первом запуске:
- Дерево автоматически заполняется тестовыми данными
- Создаются две базовые роли с паролями:

```
Администратор:
Логин: admin
Пароль: admin123

Пользователь (только просмотр):
Логин: viewer
Пароль: viewer123
```

Для отключения автосоздания и автозаполнения задать в `.env`:

```env
SEED_TEST_DATA=false
```

### 1. Локальный запуск (без Docker)

1. Установите PostgreSQL и создайте БД:
```bash
createdb equipment_db
```

2. Запустите сервер:
```bash
go run cmd/server/main.go
```

Фронтенд будет доступен в `frontend/` (откройте `index.html` в браузере)

### 2. Запуск через Docker

```bash
docker-compose up --build
```

После сборки перейдите по:

```
http://localhost
```
